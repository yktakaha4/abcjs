<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>return value of renderAbc | abcjs</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="JavaScript library for displaying sheet music in a browser.">
    <link rel="preload" href="/abcjs/assets/css/0.styles.0a0de2ed.css" as="style"><link rel="preload" href="/abcjs/assets/js/app.16ae2c04.js" as="script"><link rel="preload" href="/abcjs/assets/js/4.e133f8a4.js" as="script"><link rel="preload" href="/abcjs/assets/js/38.c830ff30.js" as="script"><link rel="prefetch" href="/abcjs/assets/js/1.ecd11f93.js"><link rel="prefetch" href="/abcjs/assets/js/10.1e746f6b.js"><link rel="prefetch" href="/abcjs/assets/js/11.624acb6b.js"><link rel="prefetch" href="/abcjs/assets/js/12.3a5d71bf.js"><link rel="prefetch" href="/abcjs/assets/js/13.4d894da2.js"><link rel="prefetch" href="/abcjs/assets/js/14.ee6e7b98.js"><link rel="prefetch" href="/abcjs/assets/js/15.4229ca8b.js"><link rel="prefetch" href="/abcjs/assets/js/16.5c8c02c9.js"><link rel="prefetch" href="/abcjs/assets/js/17.093f4c6e.js"><link rel="prefetch" href="/abcjs/assets/js/18.89649559.js"><link rel="prefetch" href="/abcjs/assets/js/19.1f83564d.js"><link rel="prefetch" href="/abcjs/assets/js/2.09eef6c6.js"><link rel="prefetch" href="/abcjs/assets/js/20.2a9b0f8d.js"><link rel="prefetch" href="/abcjs/assets/js/21.1bc15009.js"><link rel="prefetch" href="/abcjs/assets/js/22.a319dd0e.js"><link rel="prefetch" href="/abcjs/assets/js/23.7d3e5ab0.js"><link rel="prefetch" href="/abcjs/assets/js/24.ff86ed32.js"><link rel="prefetch" href="/abcjs/assets/js/25.ab56f75e.js"><link rel="prefetch" href="/abcjs/assets/js/26.b390efb0.js"><link rel="prefetch" href="/abcjs/assets/js/27.9fcf5c55.js"><link rel="prefetch" href="/abcjs/assets/js/28.0164cdc9.js"><link rel="prefetch" href="/abcjs/assets/js/29.e8355ec7.js"><link rel="prefetch" href="/abcjs/assets/js/30.79104982.js"><link rel="prefetch" href="/abcjs/assets/js/31.a4ff18a2.js"><link rel="prefetch" href="/abcjs/assets/js/32.09b9d8b7.js"><link rel="prefetch" href="/abcjs/assets/js/33.adb3beee.js"><link rel="prefetch" href="/abcjs/assets/js/34.fca13930.js"><link rel="prefetch" href="/abcjs/assets/js/35.6f4067d1.js"><link rel="prefetch" href="/abcjs/assets/js/36.7a6eed21.js"><link rel="prefetch" href="/abcjs/assets/js/37.638405f4.js"><link rel="prefetch" href="/abcjs/assets/js/5.4ac322c8.js"><link rel="prefetch" href="/abcjs/assets/js/6.e6afa5e6.js"><link rel="prefetch" href="/abcjs/assets/js/7.cdaccca3.js"><link rel="prefetch" href="/abcjs/assets/js/8.b6caa845.js"><link rel="prefetch" href="/abcjs/assets/js/9.0851c050.js">
    <link rel="stylesheet" href="/abcjs/assets/css/0.styles.0a0de2ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/abcjs/" class="home-link router-link-active"><img src="/abcjs/img/abcjs_comp_extended_08.svg" alt="abcjs" class="logo"> <span class="site-name can-hide">abcjs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Visual</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/abcjs/visual/overview.html" class="sidebar-link">Overview (renderAbc)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/visual/overview.html#multiple-tunes" class="sidebar-link">Multiple Tunes</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/overview.html#invisible-rendering" class="sidebar-link">Invisible Rendering</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/overview.html#parameters" class="sidebar-link">Parameters</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/overview.html#return-value" class="sidebar-link">Return value</a></li></ul></li><li><a href="/abcjs/visual/render-abc-options.html" class="sidebar-link">RenderAbc options</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#add-classes" class="sidebar-link">add_classes</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#afterparsing" class="sidebar-link">afterParsing</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#clicklistener" class="sidebar-link">clickListener</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#format" class="sidebar-link">format</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#hint-measures" class="sidebar-link">hint_measures</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#linebreaks" class="sidebar-link">lineBreaks</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#onesvgperline" class="sidebar-link">oneSvgPerLine</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#paddingbottom" class="sidebar-link">paddingbottom</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#paddingleft" class="sidebar-link">paddingleft</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#paddingright" class="sidebar-link">paddingright</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#paddingtop" class="sidebar-link">paddingtop</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#print" class="sidebar-link">print</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#responsive" class="sidebar-link">responsive</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#scale" class="sidebar-link">scale</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#scrollhorizontal" class="sidebar-link">scrollHorizontal</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#showdebug" class="sidebar-link">showDebug</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#staffwidth" class="sidebar-link">staffwidth</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#startingtune" class="sidebar-link">startingTune</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#textboxpadding" class="sidebar-link">textboxpadding</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#viewporthorizontal" class="sidebar-link">viewportHorizontal</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#viewportvertical" class="sidebar-link">viewportVertical</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#visualtranspose" class="sidebar-link">visualTranspose</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-options.html#wrap" class="sidebar-link">wrap</a></li></ul></li><li><a href="/abcjs/visual/render-abc-result.html" aria-current="page" class="active sidebar-link">return value of renderAbc</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-result.html#visualobjs" class="sidebar-link">visualObjs</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-result.html#array-of-tunes" class="sidebar-link">Array of Tunes</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-result.html#data" class="sidebar-link">Data</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/render-abc-result.html#methods" class="sidebar-link">Methods</a></li></ul></li><li><a href="/abcjs/visual/classes.html" class="sidebar-link">Classes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/visual/classes.html#class-names" class="sidebar-link">Class Names</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/classes.html#test-tune" class="sidebar-link">Test Tune</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/classes.html#found-classes" class="sidebar-link">Found Classes</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/classes.html#css-possibilities" class="sidebar-link">CSS Possibilities</a></li></ul></li><li><a href="/abcjs/visual/click-listener.html" class="sidebar-link">Click Listener</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/visual/click-listener.html#abcelem" class="sidebar-link">abcelem</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/click-listener.html#tunenumber" class="sidebar-link">tuneNumber</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/click-listener.html#classes" class="sidebar-link">classes</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/click-listener.html#analysis" class="sidebar-link">analysis</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/click-listener.html#drag" class="sidebar-link">drag</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/click-listener.html#mouseevent" class="sidebar-link">mouseEvent</a></li></ul></li><li><a href="/abcjs/visual/dragging.html" class="sidebar-link">Selecting and Dragging Elements</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/visual/dragging.html#dragging" class="sidebar-link">Dragging</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/dragging.html#styles" class="sidebar-link">Styles</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/dragging.html#specifying-what-is-selectable" class="sidebar-link">Specifying what is selectable.</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Audio</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Animation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Interactive</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Analysis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Deprecated</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Upgrading</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="return-value-of-renderabc"><a href="#return-value-of-renderabc" class="header-anchor">#</a> return value of renderAbc</h1> <h2 id="visualobjs"><a href="#visualobjs" class="header-anchor">#</a> visualObjs</h2> <p>When you call <code>renderAbc</code> the return value is an array of objects. Those objects contain a lot of information about the tune that was rendered.</p> <p>Each item in the array that was passed back is one tune. Even though it is not as common, you can render multiple tunes with one ABC string. For instance, the following ABC string will produce two tunes:</p> <div class="language- extra-class"><pre class="language-text"><code>X:1
K:C
CDEF|

X:2
K:G
GABc|
</code></pre></div><p>Here is an example of the <code>renderAbc</code> call:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> visualObjs <span class="token operator">=</span> abcjs<span class="token punctuation">.</span><span class="token function">renderAbc</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token string">&quot;id-for-tune-1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;id-for-tune-2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    abcString<span class="token punctuation">,</span>
    <span class="token punctuation">{</span> add_classes<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre></div><p>This section will discuss the structure of <code>visualObjs</code>. You can, of course, name this anything you like, but this documentation will refer to it by this name.</p> <h2 id="array-of-tunes"><a href="#array-of-tunes" class="header-anchor">#</a> Array of Tunes</h2> <p>Since the return value is an array but in many cases you know you have only passed one tune in, the first thing you'll do is:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> visualObj <span class="token operator">=</span> visualObjs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="data"><a href="#data" class="header-anchor">#</a> Data</h2> <div class="custom-block warning"><p class="custom-block-title">Volatile Format</p> <p>The format of this object is NOT guaranteed to be backwards compatible, so if you do delve into this and write code that depends on it, you need to retest whenever you upgrade abcjs.</p></div> <h3 id="formatting"><a href="#formatting" class="header-anchor">#</a> formatting</h3> <p>This contains a list of the fonts used for the various types of elements and other formatting commands that have been either passed in on the <code>renderAbc</code> call or appear in <code>%%</code> lines.</p> <h3 id="lines"><a href="#lines" class="header-anchor">#</a> lines</h3> <p>This is an array of all the music. Each item in the array is a &quot;staff system&quot;. That is, it could be one staff for single instrument music, it could be two staves for piano music, or it could be more for ensemble music.</p> <p>If you look at this object in the debugger, you can drill down and see all the notes and other symbols that you've defined.</p> <h3 id="media"><a href="#media" class="header-anchor">#</a> media</h3> <p>Either &quot;screen&quot; or &quot;print&quot;. When printing, the margins and the header and footer are used.</p> <h3 id="metatext"><a href="#metatext" class="header-anchor">#</a> metaText</h3> <p>This is all of the items that aren't associated with the music. That includes the text that appears before the music starts and the text that appears after the music ends.</p> <h3 id="version"><a href="#version" class="header-anchor">#</a> version</h3> <p>The version of this format.</p> <h3 id="visualtranspose"><a href="#visualtranspose" class="header-anchor">#</a> visualTranspose</h3> <p>If the parameter <code>visualTranspose</code> was passed in on the <code>renderAbc</code> call, that value is reflected here.</p> <h2 id="methods"><a href="#methods" class="header-anchor">#</a> Methods</h2> <div class="custom-block warning"><p class="custom-block-title">Volatile Format</p> <p>The format of this object is NOT guaranteed to be backwards compatible, so if you do delve into this and write code that depends on it, you need to retest whenever you upgrade abcjs.</p></div> <h3 id="getbarlength"><a href="#getbarlength" class="header-anchor">#</a> getBarLength()</h3> <p>Durations have units where a whole note is 1. This returns how long a measure is. For example, 4/4 time returns <code>1</code>, 3/4 time returns <code>0.75</code>, 6/8 time returns <code>0.75</code>.</p> <h3 id="getbeatlength"><a href="#getbeatlength" class="header-anchor">#</a> getBeatLength()</h3> <p>Durations have units where a whole note is 1. This returns how long a beat is. For example, 4/4 time returns <code>0.25</code>, 6/8 time returns <code>0.375</code> since a beat is three eighth notes.</p> <h3 id="getbeatspermeasure"><a href="#getbeatspermeasure" class="header-anchor">#</a> getBeatsPerMeasure()</h3> <p>This returns how many beats are in a measure. For example, 4/4 time returns <code>4</code>, 6/8 time returns <code>2</code> since a beat is three eighth notes.</p> <h3 id="getbpm"><a href="#getbpm" class="header-anchor">#</a> getBpm()</h3> <p>This is the starting beats per minute. Tempo changes could appear later in the tune, but this is the value that was set with the <code>Q:</code> statement, or if that statement doesn't exist, it is the default tempo of 180.</p> <h3 id="getmeter"><a href="#getmeter" class="header-anchor">#</a> getMeter()</h3> <p>This returns the internal representation of the meter as an object. More often you'll find <code>getMeterFraction</code> more useful if you are doing calculations.</p> <h3 id="getmeterfraction"><a href="#getmeterfraction" class="header-anchor">#</a> getMeterFraction()</h3> <p>This returns an object with the properties <code>num</code> and <code>den</code>. For instance, 3/4 time returns <code>{num: 3, den: 4}</code>. Common and Cut time are resolved to <code>{num: 4, den: 4}</code> and <code>{num: 2, den: 2}</code> respectively.</p> <h3 id="getpickuplength"><a href="#getpickuplength" class="header-anchor">#</a> getPickupLength()</h3> <p>Durations have units where a whole note is 1. If the first measure is not full, then this is the length of that first measure. It is then considered pickup notes.</p> <h3 id="getkeysignature"><a href="#getkeysignature" class="header-anchor">#</a> getKeySignature()</h3> <p>This returns the internal representation of the key signature with all of its pieces broken apart.</p> <h3 id="getelementfromchar-charindex"><a href="#getelementfromchar-charindex" class="header-anchor">#</a> getElementFromChar(charIndex)</h3> <p><code>charIndex</code> is a character position in the original ABC. This searches through the tune for the element that matches that character. If you pass in the index of a non-note element it returns null.</p> <h3 id="millisecondspermeasure"><a href="#millisecondspermeasure" class="header-anchor">#</a> millisecondsPerMeasure()</h3> <p>This does the calculation using beats per minute and beats per measure.</p> <h3 id="setupaudio"><a href="#setupaudio" class="header-anchor">#</a> setUpAudio()</h3> <p>If you aren't using the built in synth, but you still want the information that the synth provides, call this. If you aren't overriding the BPM or anything else that can be set in the synth call, you can call this with no parameters. Otherwise specify the items you want to override.</p> <p>This returns an array of all the sequence data. Normally you won't need this information, but there may be cases where it is useful for post-processing.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/abcjs/visual/render-abc-options.html" class="prev">
        RenderAbc options
      </a></span> <span class="next"><a href="/abcjs/visual/classes.html">
        Classes
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/abcjs/assets/js/app.16ae2c04.js" defer></script><script src="/abcjs/assets/js/4.e133f8a4.js" defer></script><script src="/abcjs/assets/js/38.c830ff30.js" defer></script>
  </body>
</html>
